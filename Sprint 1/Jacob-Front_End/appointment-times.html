<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Appointment Times</title> <!-- Title of the page -->
    <link rel="stylesheet" href="appointment-styles.css"> <!-- Link to external CSS file for styling -->
    
    <script>
        let selectedAppointment = null; // Variable to store the selected appointment

        // Function to handle form submission
        function handleSubmit(event) {
            event.preventDefault(); // Prevent default form submission behavior
            if (!selectedAppointment) { // Check if no appointment is selected
                alert("Please select an appointment before submitting."); // Alert user
                return; // Prevent further execution if no selection
            }

            // Get the details of the selected appointment
            const appointmentDetails = selectedAppointment.querySelector('.available-text').innerText;
            const confirmation = window.confirm(`You have selected:\n${appointmentDetails}\n\nIs this correct?`); // Confirmation dialog

            if (confirmation) { // If user confirms
                const url = "home.html"; // URL to redirect to home
                window.location.href = url; // Redirect to the home page
            }
        }

        // Function to handle appointment selection
        function selectAppointment(box) {
            // Remove 'selected' class from all appointment boxes
            const boxes = document.querySelectorAll('.available-box');
            boxes.forEach(b => b.classList.remove('selected')); // Clear previous selection
            
            // Add 'selected' class to the clicked appointment box
            box.classList.add('selected');
            selectedAppointment = box; // Store the currently selected appointment
        }

        // Function to handle cancellation of the appointment selection
        function handleCancel(event) {
            event.preventDefault(); // Prevent default button behavior
            const url = "calendar.html"; // URL to redirect to
            window.location.href = url; // Redirect to the calendar page
        }
    </script>
</head>
<body>
    <h1>Available Appointment Times</h1> <!-- Main heading for the page -->
    <form method="post" onsubmit="handleSubmit(event)"> <!-- Form for selecting an appointment -->
        <fieldset> <!-- Grouping elements within a box -->
            <legend>Please pick an available appointment time</legend> <!-- Legend for the fieldset -->
            <!-- Each available appointment box -->
            <div class="available-box" onclick="selectAppointment(this)">
                <div class="available-text">Example 1</div>
            </div>
            <div class="available-box" onclick="selectAppointment(this)">
                <div class="available-text">Example 2</div>
            </div>
            <div class="available-box" onclick="selectAppointment(this)">
                <div class="available-text">Example 3</div>
            </div>
        </fieldset>
        <button type="submit">Submit</button> <!-- Submit button for the form -->
        <button type="button" onclick="handleCancel(event)">Cancel</button> <!-- Button to cancel selection -->
    </form>
</body>
</html>
